<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GameJam复盘 - Shaucky</title>
  <!--<link rel="stylesheet" href="css/bootstrap.min.css"/>-->
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.8/css/bootstrap.min.css">
  <!--<link rel="stylesheet" href="css/animate.css"/>-->
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/animate.css/4.1.1/animate.css">
  <style>
    body {
        background-color: #f9f9f9;
    }
    header {
        background-color: #00023D;
        color: white;
        padding: 3rem 1rem;
        text-align: center;
        position: relative;
        overflow: hidden;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }
    header::before {
      content: '';
      position: absolute;
      left: 0; top: 0; right: 0; bottom: 0;
      width: 100%; height: 100%;
      z-index: 0;
      pointer-events: none;
      background: inherit;
      filter: blur(100px) brightness(0.4);
      transition: opacity 0.5s;
    }
    header > * {
      position: relative;
      z-index: 1;
    }
    .review-content {
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 8px #0001;
        padding: 2rem;
        margin-top: 2rem;
    }
	.soc-icon {
	  position: relative;
	  font-size: 26px;
	  line-height: 1;
	  color: #333333;
	  padding: 0 10px 15px;
	  text-decoration: none;
	}
	footer > * {
	  margin-bottom: 20px;
	}

  #review-content h4 {
    color: #00046C;
  }
  </style>
</head>
<body>
  <header class="animate__animated animate__fadeInDown">
    <h1 class="display-4" id="review-title">复盘</h1>
    <p class="lead" id="review-topic"></p>
  </header>

  <div class="container my-5">
    <a href="./" class="animate__animated animate__fadeInLeft btn btn-primary rounded-pill px-4 py-2 fw-bold" style="font-size:1.1rem;">← 返回首页</a>
    <div id="review-content" class="review-content animate__animated animate__fadeInUp">
      <div class="text-center text-secondary">（配置加载中…）</div>
    </div>
  </div>

  <footer class="text-center py-5 bg-light wow animate__animated animate__fadeInUp" data-wow-delay="0.6s">
    <p style="font-size: 20px;text-decoration: underline;">Contact <b>ME</b>:</p>
    <div style="user-select: none;">
      <a class="soc-icon" target="_blank" href="https://space.bilibili.com/11605064">
        <i class="fa-brands fa-bilibili"></i>
      </a>
      <a class="soc-icon" target="_blank" href="https://github.com/shaucky">
        <i class="fa-brands fa-github"></i>
      </a>
      <a class="soc-icon" target="_blank" href="https://www.taptap.cn/user/54896337">
      	<svg t="1759257528216" class="svg-inline--fa" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4715">
          <path fill="currentColor" d="M170.666667 85.333333h682.666666a85.333333 85.333333 0 0 1 85.333334 85.333334v682.666666a85.333333 85.333333 0 0 1-85.333334 85.333334H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333334V170.666667a85.333333 85.333333 0 0 1 85.333334-85.333334z m-7.168 242.645334c-12.288 8.533333-18.474667 22.016-18.474667 40.533333 0 18.432 8.533333 30.805333 25.685333 37.077333h79.914667c3.754667 0 5.632 1.834667 5.632 5.461334v244.906666c0 6.613333 2.773333 9.941333 8.362667 9.941334h59.434666c6.101333 0 9.173333-3.328 9.173334-9.941334v-244.906666c0-3.626667 1.749333-5.461333 5.290666-5.461334H410.88c4.992 0 7.509333-2.986667 7.509333-8.874666V352.896c0-4.949333-2.517333-7.424-7.509333-7.424H174.762667A7.338667 7.338667 0 0 1 170.666667 344.064c-2.133333-1.365333-2.133333-7.978667-2.133334-16.085333 0-1.28-1.664-1.28-5.077333 0z m354.901333 90.069333c-6.016-2.304-44.586667-3.712-66.133333 0-21.589333 3.712-80.384 31.872-80.384 121.429333 0 125.866667 89.514667 126.421333 97.706666 126.421334 25.472-0.64 43.989333-13.397333 55.637334-38.314667 1.536-1.536 2.901333-1.536 4.096 0 1.792 2.261333 7.082667 41.045333 51.626666 41.984 18.218667 0 34.048-6.314667 47.445334-18.944 3.754667-3.584 3.754667-6.272 0-8.106667-14.122667-6.698667-21.248-15.658667-21.248-20.010666l-1.194667-208.170667c0.042667-3.626667-1.834667-5.461333-5.674667-5.461333h-65.28c-3.712 0-5.674667 1.493333-5.674666 5.461333v6.016c0 2.346667-4.864 0-10.922667-2.304z m10.922667 160.853333c0 7.253333-11.178667 19.626667-17.322667 23.125334-14.592 8.234667-27.690667 6.357333-29.653333 6.357333-4.266667 0-45.824-6.741333-46.677334-75.264-0.554667-42.026667 25.728-75.136 62.592-75.136 20.48 0 30.890667 2.261333 31.061334 6.826667v114.090666z m89.088-173.397333c2.816 3.370667 26.197333 3.370667 26.197333 27.221333v313.429334c0 1.834667 0 9.088 9.002667 9.088h52.906666c8.448 0 14.506667 0 14.506667-9.088v-95.957334c0-6.4 4.949333-6.4 7.424-4.266666 2.517333 2.133333 12.373333 19.84 49.92 19.84 37.546667 0 100.608-37.418667 100.608-128.853334s-57.6-131.413333-100.650667-131.413333-51.114667 27.221333-57.472 27.221333c-6.4 0-14.293333-51.370667-56.405333-51.370666-38.4 0-48.810667 20.736-46.037333 24.149333z m102.4 82.176c0-7.466667 15.701333-22.826667 39.936-22.826667 24.234667 0 50.901333 22.826667 50.901333 68.394667s-29.952 71.978667-50.901333 71.978667c-20.906667 0-39.893333-12.714667-39.893334-20.352V487.68z" p-id="4716">
          </path>
        </svg>
      </a>
    </div>
    <p>©2025 Shaucky. All Rights Reserved.</p>
  </footer>

  <!--<script src="js/bootstrap.bundle.min.js"></script>-->
  <!--<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.8/js/bootstrap.bundle.min.js"></script>-->
  <script src="js/font/fontawesome.min.js"></script>
  <script src="js/font/brands.min.js"></script>
  <script src="js/font/solid.min.js"></script>
  <script src="js/wow.js"></script>
  <script>
  function getQueryParam(name) {
    const url = new URL(window.location.href);
    return url.searchParams.get(name);
  }

  function setHeaderBg(imgName) {
    const header = document.querySelector('header');
    if (!header) return;
    if (!imgName) {
      header.style.backgroundImage = '';
      return;
    }
    header.style.backgroundImage = `url('images/index/${imgName}.png')`;
  }
  function renderReview(data) {
    const box = document.getElementById('review-content');
    const titleEl = document.getElementById('review-title');
    const topicEl = document.getElementById('review-topic');
    const headTitle = document.querySelector('head > title');
    if (!data) {
      box.innerHTML = '<div class="text-danger">参数异常、未找到复盘内容或内容不存在。</div>';
      return;
    }
    if (titleEl) titleEl.textContent = (data.title || '') + '复盘';
    if (topicEl) topicEl.textContent = data.topic ? '主题：' + data.topic : '';
    if (headTitle) headTitle.textContent = (data.title ? data.title + '复盘 - Shaucky' : 'GameJam复盘 - Shaucky');
    if (!data || !Array.isArray(data.sections) || data.sections.length === 0) {
      box.innerHTML = '<div class="text-danger">参数异常、未找到复盘内容或内容不存在。</div>';
      return;
    }
    let html = '';
    if (data.date) {
      html += `<div class="mb-2 text-end" style="user-select: none;">
        <div class="text-secondary">作者：晓痴（Shaucky）</div>
        <div class="text-secondary">Jam日期：${data.date}</div>
      </div>`;
    }
    data.sections.forEach(sec => {
      if (sec.heading) html += `<h4 class="mt-4">${sec.heading || ''}</h4>`;
      if (sec.content) html += `<div class="mb-3" style="text-indent:2em;">${sec.content || ''}</div>`;
    });
    box.innerHTML = html;
    if (typeof WOW === 'function') new WOW().init();
  }
  document.addEventListener('DOMContentLoaded', function() {
    let e = document.getElementById('footer-contacts');
    if (e) contacts.style.display = '';
    const jam = getQueryParam('jam');
    const cover = getQueryParam('cover');
    setHeaderBg(cover);
    if (!jam) {
      renderReview(null);
      return;
    }
    fetch(`data/review/${jam}.json`, {cache: 'no-store'})
      .then(resp => resp.ok ? resp.json() : null)
      .then(data => renderReview(data))
      .catch(() => renderReview(null));
  });
  </script>
  <link rel="stylesheet" href="css/font/fontawesome.min.css"/>
  <link rel="stylesheet" href="css/font/brands.min.css"/>
  <link rel="stylesheet" href="css/font/solid.min.css"/>
</body>
</html>
